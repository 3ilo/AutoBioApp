# Server Configuration
PORT=3000
NODE_ENV=development

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/autobio

# JWT Configuration
JWT_SECRET=your-secret-key
JWT_EXPIRES_IN=7d

# Frontend gate
REGISTRATION_SECRET=REGISTRATION_SECRET

# Frontend URL (for CORS)
FRONTEND_URL=https://frontend-url.com

# File Upload Configuration
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880 # 5MB

# CORS Configuration
CORS_ORIGIN=http://localhost:5173

# Feature Flags
ENABLE_IMAGE_GENERATION=true
ENABLE_SOCIAL_FEATURES=true 

# AWS Configuration
AWS_STAGING_BUCKET=AWS_STAGING_BUCKET
AWS_ACCESS_KEY_ID=AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=AWS_SECRET_ACCESS_KEY
AWS_CLIENT_REGION=AWS_REGION

# Backend AWS Credentials (for local development only)
# In serverless environments (dev/prod), IAM roles are used automatically
BACKEND_AWS_KEY=
BACKEND_AWS_SECRET=

# S3 Configuration
S3_CLIENT_REGION=us-west-2
S3_BUCKET_NAME=auto-bio-illustrations
S3_AVATAR_PREFIX=avatars/
S3_SUBJECTS_PREFIX=subjects/

# Bedrock Configuration
BEDROCK_SUMMARY_MODEL_ID=amazon.nova-micro-v1:0
BEDROCK_CLIENT_REGION=us-west-2
# Legacy Bedrock Configuration (for fallback)
BEDROCK_IMAGE_MODEL_ID=BEDROCK_IMAGE_MODEL_ID

# Illustration Service Configuration
# Granular Stub Flags (for independent service stubbing)
# Each service can be stubbed independently, or use USE_STUB=true to stub all
USE_STUB=false
USE_STUB_ILLUSTRATION=false
USE_STUB_SUMMARIZATION=false
USE_STUB_PROMPT_ENHANCEMENT=false
USE_STUB_MEMORY_SUMMARY=false

# Illustration Service Configuration
# Provider selection: 'sdxl' | 'openai' | 'stub' (via USE_STUB_ILLUSTRATION or USE_STUB)
# Default: 'sdxl' (for backward compatibility)
ILLUSTRATION_PROVIDER=sdxl
USE_BEDROCK_FALLBACK=false
USE_ILLUSTRATION_SERVICE=true

# SDXL Illustration Service (self-hosted)
ILLUSTRATION_SERVICE_URL=http://localhost:8000
ILLUSTRATION_SERVICE_AUTH_TOKEN=

# OpenAI Illustration Service
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_IMAGE_MODEL=gpt-image-1.5
OPENAI_IMAGE_SIZE=1024x1024
OPENAI_IMAGE_QUALITY=low

# OpenAI Prompt Template Versioning (per-template)
# Each template can have its own version (defaults to v1 if not specified)
# Format: TEMPLATE_NAME_VERSION (e.g., SUBJECT_VERSION=v2)
# This allows fine-grained control over each prompt component
SUBJECT_VERSION=v1
SUBJECT_PROMPT_VERSION=v1
IDENTITY_CONSTRAINTS_VERSION=v1
STYLE_CONSTRAINTS_VERSION=v1
SCENE_SYSTEM_VERSION=v1
SCENE_USER_VERSION=v1
COMPOSITION_SYSTEM_VERSION=v1
COMPOSITION_USER_VERSION=v1
FORMAT_VERSION=v1

# Dev modes
CURRENT_IP_ADDRESS=CURRENT_IP_ADDRESS
